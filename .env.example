# Fallpaper Configuration
# Copy this file to .env and modify as needed.
# All values shown are defaults.

# =============================================================================
# Database Configuration
# =============================================================================

# Path to SQLite database file
# Default: ./data/fallpaper.db (relative to working directory)
FALLPAPER_DATABASE_PATH=./data/fallpaper.db

# Enable SQL query logging
# Default: true
FALLPAPER_DATABASE_LOGGING=true

# Enable OpenTelemetry tracing for database queries
# Default: true
FALLPAPER_DATABASE_TRACING=true

# =============================================================================
# Scheduler Configuration
# =============================================================================

# Cron expression for polling pending runs
# Default: "* * * * *" (every minute)
FALLPAPER_SCHEDULER_POLL_CRON=* * * * *

# Timeout in milliseconds before a running task is considered stale
# Default: 1800000 (30 minutes)
FALLPAPER_SCHEDULER_STALE_RUN_TIMEOUT_MS=1800000

# Maximum number of pending runs to process per poll
# Default: 10
FALLPAPER_SCHEDULER_MAX_PENDING_RUNS=10

# Base delay in milliseconds for retry backoff
# Default: 60000 (1 minute)
FALLPAPER_SCHEDULER_RETRY_BACKOFF_BASE_MS=60000

# =============================================================================
# Runner Configuration
# =============================================================================

# Directory to store downloaded images
# Default: ./data/images (relative to working directory)
FALLPAPER_RUNNER_IMAGE_DIR=./data/images

# Directory for temporary files during download
# Default: ./data/temp (relative to working directory)
FALLPAPER_RUNNER_TEMP_DIR=./data/temp

# Maximum number of concurrent image downloads
# Default: 5
FALLPAPER_RUNNER_MAX_CONCURRENT_DOWNLOADS=5

# Minimum download speed in bytes per second before aborting
# Default: 10240 (10 KB/s)
FALLPAPER_RUNNER_MIN_SPEED_BYTES_PER_SEC=10240

# Timeout in milliseconds for slow download detection
# Default: 30000 (30 seconds)
FALLPAPER_RUNNER_SLOW_SPEED_TIMEOUT_MS=30000
